/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
import{urlToObject as r}from"../../core/urlUtils.js";import{getJsonType as t,getGeometryType as e}from"../../geometry/support/jsonUtils.js";import o from"../../request.js";async function i(i,n,f){const m="string"==typeof i?r(i):i,p=n[0].spatialReference,a=t(n[0]),u={...f,query:{...m.query,f:"json",sr:p.wkid?p.wkid:JSON.stringify(p),geometries:JSON.stringify(s(n))}};return function(r,t,o){const i=e(t);return r.map((r=>{const t=i.fromJSON(r);return t.spatialReference=o,t}))}((await o(m.path+"/simplify",u)).data,a,p)}function s(r){return{geometryType:t(r[0]),geometries:r.map((r=>r.toJSON()))}}export{i as simplify};

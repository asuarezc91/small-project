/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
import{serializeLayerDefinitions as e}from"../../layers/support/layerUtils.js";function i(i){const{contains:s,dynamicLayers:t,geometryPrecision:n,layerDefinitions:r,layerIds:o,maxAllowableOffset:l,outSR:a,returnGeometry:f,searchFields:c,searchText:y}=i.toJSON(),d={contains:s,returnGeometry:f,geometryPrecision:n,maxAllowableOffset:l,searchText:y};if(o&&(d.layers=o.join(",")),c&&(d.searchFields=c.join(",")),a&&(d.sr=a.wkid||JSON.stringify(a)),r){const i=[];for(let e=0;e<r.length;e++){const s=r[e];i[s.id]=s.definitionExpression}d.layerDefs=e(i)}if(t&&t.length){const e=[];for(let i=0;i<t.length;i++){const s=t[i],n=s.id;if(!s.subLayerIds&&o&&-1!==o.indexOf(n)){const i={id:n};i.source=s.source;let t=null;if(r&&r.length){const e=r.filter((e=>e.id===n))[0];t=e&&e.definitionExpression}t&&(i.definitionExpression=t),e.push(i)}}let i=JSON.stringify(e);"[]"===i&&(i="[{}]"),d.dynamicLayers=i}return d}export{i as findToFindRESTParameters};

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
import{_ as r}from"../chunks/tslib.es6.js";import{assumeNonNull as t}from"./maybe.js";import{getProperties as e}from"./accessorSupport/utils.js";import{subclass as s}from"./accessorSupport/decorators/subclass.js";import{idToName as o,nameToId as i}from"./accessorSupport/PropertyOrigin.js";import n from"./Accessor.js";import{read as c}from"./accessorSupport/read.js";import p from"./accessorSupport/MultiOriginStore.js";const a=n=>{let a=class extends n{constructor(...r){super(...r);const s=t(e(this)),o=s.metadatas,i=s.store,n=new p;s.store=n,i.keys().forEach((r=>{n.set(r,i.get(r),0)})),Object.keys(o).forEach((r=>{s.internalGet(r)&&n.set(r,s.internalGet(r),0)}))}read(r,t){c(this,r,t)}getAtOrigin(r,t){const e=u(this),s=i(t);if("string"==typeof r)return e.get(r,s);const o={};return r.forEach((r=>{o[r]=e.get(r,s)})),o}originOf(r){return o(this.originIdOf(r))}originIdOf(r){return u(this).originOf(r)}revert(r,t){const s=u(this),o=i(t),n=e(this);let c;c="string"==typeof r?"*"===r?s.keys(o):[r]:r,c.forEach((r=>{n.propertyInvalidated(r),s.revert(r,o),n.propertyCommitted(r)}))}};return a=r([s("esri.core.ReadOnlyMultiOriginJSONSupport")],a),a};function u(r){return e(r).store}let f=class extends(a(n)){};f=r([s("esri.core.ReadOnlyMultiOriginJSONSupport")],f);export{a as ReadOnlyMultiOriginJSONMixin,f as ReadOnlyMultiOriginJSONSupport};

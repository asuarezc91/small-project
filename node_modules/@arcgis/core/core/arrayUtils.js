/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
import n from"./RandomLCG.js";function t(n){if(!n)return;return n.length>0?n[0]:void 0}function r(n){if(!n)return;const t=n.length;return t>0?n[t-1]:void 0}function e(n){return n}function o(n,t=e){if(!n||0===n.length)return;let r=n[0],o=t(r);for(let e=1;e<n.length;++e){const f=n[e],u=Number(t(f));u>o&&(o=u,r=f)}return r}function f(n,t=e){return o(n,(n=>-t(n)))}function u(n,t){return t?n.filter(((n,r,e)=>e.findIndex(t.bind(null,n))===r)):n.filter(((n,t,r)=>r.indexOf(n)===t))}function i(n,t,r){if(!n&&!t)return!0;if(!n||!t||n.length!==t.length)return!1;if(r){for(let e=0;e<n.length;e++)if(!r(n[e],t[e]))return!1}else for(let r=0;r<n.length;r++)if(n[r]!==t[r])return!1;return!0}function l(n,t,r){let e,o;return r?(e=t.filter((t=>!n.some((n=>r(n,t))))),o=n.filter((n=>!t.some((t=>r(t,n)))))):(e=t.filter((t=>!n.includes(t))),o=n.filter((n=>!t.includes(n)))),{added:e,removed:o}}function c(n,t,r){return n&&t?r?n.filter((function(n){return t.findIndex((function(t){return r(n,t)}))>-1})):n.filter((function(n){return t.indexOf(n)>-1})):[]}function s(n){return n&&"number"==typeof n.length}function h(n,t){const r=n.length;if(0===r)return[];const e=[];for(let o=0;o<r;o+=t)e.push(n.slice(o,o+t));return e}const a=!!Array.prototype.fill;function d(n,t){if(a)return new Array(n).fill(t);const r=new Array(n);for(let e=0;e<n;e++)r[e]=t;return r}function g(n,t){void 0===t&&(t=n,n=0);const r=new Array(t-n);for(let e=n;e<t;e++)r[e-n]=e;return r}function m(n,t,r){const e=n.length;let o=0,f=e-1;for(;o<f;){const r=o+Math.floor((f-o)/2);t>n[r]?o=r+1:f=r}const u=n[o];return r?t>=n[e-1]?-1:u===t?o:o-1:u===t?o:-1}function p(n,t,r){if(!n||0===n.length)return;const e=n.length-1,o=n[0];if(t<=r(o))return o;const f=n[e];if(t>=r(f))return f;let u=0,i=0,l=e;for(;u<l;){i=u+Math.floor((l-u)/2);const o=n[i],f=r(o);if(f===t)return o;if(t<f){if(i>0){const e=n[i-1],u=r(e);if(t>u)return t-u>=f-t?o:e}l=i}else{if(i<e){const e=n[i+1],u=r(e);if(t<u)return t-f>=u-t?e:o}u=i+1}}return n[i]}function x(n){return n.reduce(((n,t)=>n.concat(t||[])),[])}class M{constructor(){this.last=0}}const w=new M;function y(n,t,r,e){e=e||w;const o=Math.max(0,e.last-10);for(let f=o;f<r;++f)if(n[f]===t)return e.last=f,f;const f=Math.min(o,r);for(let r=0;r<f;++r)if(n[r]===t)return e.last=r,r;return-1}function v(n,t,r,e){const o=null==r?n.length:r,f=y(n,t,o,e);if(-1!==f)return n[f]=n[o-1],null==r&&n.pop(),t}const A=new Set;function b(n,t,r=n.length,e=t.length,o,f){if(0===e||0===r)return r;A.clear();for(let n=0;n<e;++n)A.add(t[n]);o=o||w;const u=Math.max(0,o.last-10);for(let t=u;t<r;++t)if(A.has(n[t])&&(f&&f.push(n[t]),A.delete(n[t]),n[t]=n[r-1],--r,--t,0===A.size||0===r))return A.clear(),r;for(let t=0;t<u;++t)if(A.has(n[t])&&(f&&f.push(n[t]),A.delete(n[t]),n[t]=n[r-1],--r,--t,0===A.size||0===r))return A.clear(),r;return A.clear(),r}function O(n,t,r){const e=n.length;if(t>=e)return n.slice(0);const o=z(r),f=new Set,u=[];for(;u.length<t;){const t=Math.floor(o()*e);f.has(t)||(f.add(t),u.push(n[t]))}return u}function z(n){return n?(S.seed=n,()=>S.getFloat()):Math.random}function I(n,t){const r=z(t);for(let t=n.length-1;t>0;t--){const e=Math.floor(r()*(t+1)),o=n[t];n[t]=n[e],n[e]=o}return n}const S=new n;function j(n,t){const r=n.indexOf(t);return-1!==r?(n.splice(r,1),t):null}export{M as PositionHint,p as binaryFindClosest,m as binaryIndexOf,d as constant,l as difference,i as equals,t as first,x as flatten,y as indexOf,c as intersect,s as isArrayLike,r as last,o as max,f as min,O as pickRandom,g as range,j as remove,v as removeUnordered,b as removeUnorderedMany,I as shuffle,h as splitIntoChunks,u as unique};

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
import{_ as e}from"../chunks/tslib.es6.js";import"../core/has.js";import{clone as t}from"../core/lang.js";import{isNone as o}from"../core/maybe.js";import r from"../core/Logger.js";import{ensureType as i}from"../core/accessorSupport/ensureType.js";import{property as s}from"../core/accessorSupport/decorators/property.js";import{cast as n}from"../core/accessorSupport/decorators/cast.js";import{deprecatedProperty as p}from"../core/deprecate.js";import{reader as m}from"../core/accessorSupport/decorators/reader.js";import{subclass as a}from"../core/accessorSupport/decorators/subclass.js";import c from"../core/Error.js";import"../core/urlUtils.js";import"../core/uuid.js";import"../portal/support/resourceExtension.js";import{JSONSupport as l}from"../core/JSONSupport.js";import u from"../geometry/Extent.js";import{IdentifiableMixin as w}from"../core/Identifiable.js";import j from"../Viewpoint.js";import d from"../webdoc/support/Thumbnail.js";var f;const y=r.getLogger("esri.webmap.Bookmark");let b=f=class extends(w(l)){constructor(e){super(e),this.name=null,this.thumbnail=new d}set extent(e){p(y,"extent",{replacement:"viewpoint",version:"4.17"}),this._set("viewpoint",new j({targetGeometry:e.clone()})),this._set("extent",e)}castThumbnail(e){return"string"==typeof e?new d({url:e}):i(d,e)}set viewpoint(e){const t=e.targetGeometry;if(o(t)||"extent"!==t.type){const t=new c("invalid-viewpoint","'viewpoint.targetGeometry' should be an extent",{viewpoint:e});y.error(t)}else this._set("extent",t.clone()),this._set("viewpoint",e)}readViewpoint(e,t){const{extent:o,viewpoint:r}=t;return j.fromJSON(r||{targetGeometry:o})}clone(){return new f(t({name:this.name,thumbnail:this.thumbnail,viewpoint:this.viewpoint}))}};e([s({type:u,nonNullable:!0,json:{read:!1,write:{isRequired:!0}}})],b.prototype,"extent",null),e([s({type:String,nonNullable:!0,json:{write:{isRequired:!0}}})],b.prototype,"name",void 0),e([s({type:d,json:{write:{overridePolicy:e=>({enabled:!(!e||!e.url)})}}})],b.prototype,"thumbnail",void 0),e([n("thumbnail")],b.prototype,"castThumbnail",null),e([s({type:j,nonNullable:!0,json:{write:!0}})],b.prototype,"viewpoint",null),e([m("viewpoint",["extent","viewpoint"])],b.prototype,"readViewpoint",null),b=f=e([a("esri.webmap.Bookmark")],b);var h=b;export default h;

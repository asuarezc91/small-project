/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
import{isSome as r,isNone as t}from"../../../core/maybe.js";import{generateUUID as i}from"../../../core/uuid.js";import o from"../../../layers/support/BuildingFilterModeSolid.js";import n from"../../../layers/support/BuildingFilterModeXRay.js";import e from"../../../layers/support/BuildingFilterBlock.js";function f(){return`${i()}__BUILDING_EXPLORER_FILTER__`}function l(r){const t="string"==typeof r?r:r.id;return!!t&&-1!==t.indexOf("__BUILDING_EXPLORER_FILTER__")}function s(t,i){for(const o of t.items)for(const t of o.filters.items){if(!l(t))continue;const o=i(t);if(r(o))return o}return null}function u(r,i){t(i)||r.forEach((r=>{r.filters=r.filters.filter((r=>!l(r))).concat([i]),r.activeFilterId=i.id}))}function c(r){const t=m(r);return t?new e({filterExpression:t,filterMode:new n}):null}function p(r){const t=m(r);return t?new e({filterExpression:t,filterMode:new o}):null}function m(r){return r.filter((r=>!!r)).map((r=>`(${r})`)).join(" AND ")}export{f as generateFilterId,p as getFilterBlockSolid,c as getFilterBlockXRay,s as getValueFromFilters,l as isBuildingExplorerFilter,u as setFilterOnLayers};

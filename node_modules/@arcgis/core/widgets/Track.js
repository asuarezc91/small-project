/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
import{_ as e}from"../chunks/tslib.es6.js";import"../core/has.js";import"../core/Logger.js";import"../core/accessorSupport/ensureType.js";import{property as o}from"../core/accessorSupport/decorators/property.js";import{aliasOf as t}from"../core/accessorSupport/decorators/aliasOf.js";import{subclass as s}from"../core/accessorSupport/decorators/subclass.js";import"../core/urlUtils.js";import"../core/uuid.js";import"../portal/support/resourceExtension.js";import"./support/widgetUtils.js";import{accessibleHandler as i}from"./support/decorators/accessibleHandler.js";import{messageBundle as r}from"./support/decorators/messageBundle.js";import{renderable as a}from"./support/decorators/renderable.js";import{vmEvent as l}from"./support/decorators/vmEvent.js";import{j as p}from"../chunks/index.js";import n from"./Widget.js";import d from"./Track/TrackViewModel.js";const c="esri-track esri-widget--button esri-widget",g="esri-icon-font-fallback-text",u="esri-icon",v="esri-icon-loading-indicator",m="esri-rotating",w="esri-icon-tracking",h="esri-icon-pause",k="esri-icon-tracking",b="esri-disabled",f="esri-hidden";let j=class extends n{constructor(e,o){super(e,o),this.geolocationOptions=null,this.goToLocationEnabled=null,this.goToOverride=null,this.graphic=null,this.iconClass=k,this.label=void 0,this.messages=null,this.scale=null,this.tracking=null,this.useHeadingEnabled=null,this.view=null,this.viewModel=new d}start(){}stop(){}render(){const e=this.get("viewModel.state"),o={[b]:"disabled"===e,[f]:"feature-unsupported"===e},t="tracking"===e,s={[w]:!t&&"waiting"!==e,[h]:t,[m]:"waiting"===e,[v]:"waiting"===e},{messages:i}=this,r=t?i.stopTracking:i.startTracking;return p("div",{bind:this,class:this.classes(c,o),hidden:"feature-unsupported"===e,onclick:this._toggleTracking,onkeydown:this._toggleTracking,role:"button",tabIndex:0,"aria-label":r,title:r},p("span",{"aria-hidden":"true",class:this.classes(u,s)}),p("span",{class:g},r))}_toggleTracking(){const e=this.viewModel;e&&"feature-unsupported"!==e.state&&"disabled"!==e.state&&("tracking"!==e.state&&"waiting"!==e.state?this.viewModel.start():this.viewModel.stop())}};e([t("viewModel.geolocationOptions")],j.prototype,"geolocationOptions",void 0),e([t("viewModel.goToLocationEnabled")],j.prototype,"goToLocationEnabled",void 0),e([t("viewModel.goToOverride")],j.prototype,"goToOverride",void 0),e([t("viewModel.graphic")],j.prototype,"graphic",void 0),e([o()],j.prototype,"iconClass",void 0),e([o({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],j.prototype,"label",void 0),e([o(),a(),r("esri/widgets/Track/t9n/Track")],j.prototype,"messages",void 0),e([t("viewModel.scale")],j.prototype,"scale",void 0),e([t("viewModel.tracking")],j.prototype,"tracking",void 0),e([t("viewModel.useHeadingEnabled")],j.prototype,"useHeadingEnabled",void 0),e([t("viewModel.view"),a()],j.prototype,"view",void 0),e([o({type:d}),a("viewModel.state"),l(["track","track-error"])],j.prototype,"viewModel",void 0),e([t("viewModel.start")],j.prototype,"start",null),e([t("viewModel.stop")],j.prototype,"stop",null),e([i()],j.prototype,"_toggleTracking",null),j=e([s("esri.widgets.Track")],j);var y=j;export default y;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
import{_ as e}from"../../../chunks/tslib.es6.js";import"../../../core/has.js";import{isSome as t}from"../../../core/maybe.js";import"../../../core/Logger.js";import"../../../core/accessorSupport/ensureType.js";import{property as s}from"../../../core/accessorSupport/decorators/property.js";import{subclass as r}from"../../../core/accessorSupport/decorators/subclass.js";import"../../../core/urlUtils.js";import"../../../core/uuid.js";import"../../../portal/support/resourceExtension.js";import o from"../SmartMappingSliderViewModel.js";let n=class extends o{constructor(e){super(e),this.zoomingEnabled=!1}set breaks(e){this._set("breaks",e),this.notifyChange("max"),this.notifyChange("min")}set max(e){this._updateBreakMax(e),this.setMax(e)}get max(){const{breaks:e}=this;return e&&e.length?e[e.length-1].max:null}set min(e){this._updateBreakMin(e),this.setMin(e)}get min(){const{breaks:e}=this;return e&&e.length?e[0].min:null}get values(){const{breaks:e}=this;if(!e||!e.length)return[];const t=e.map((e=>e.max));return t.pop(),t}setValue(e,t){const{max:s,min:r}=this;t>s||t<r||(this._updateBreakInfos(t,e),this.notifyChange("values"),this.notifyChange("labels"))}getStopInfo(){const{breaks:e,max:t,min:s}=this,r=t-s;if(!e||!e.length||!r)return[];const o=[];return e.forEach((e=>{const{color:n,max:a,min:i}=e;let p,l;t===s?p=l=0:(p=(t-i)/r,l=(t-a)/r),o.push({offset:p,color:n},{offset:l,color:n})})),o}_updateBreakMax(e){const{breaks:s,max:r,min:o}=this;!isNaN(e)&&r!==e&&t(o)&&e>o&&s&&s.length&&(s[s.length-1].max=e)}_updateBreakMin(e){const{breaks:s,max:r,min:o}=this;!isNaN(e)&&o!==e&&t(r)&&e<r&&s&&s.length&&(s[0].min=e)}_updateBreakInfos(e,s){const{breaks:r}=this;r[s].max=e,r[s].min>r[s].max&&(r[s].min=e),t(r[s+1])&&(r[s+1].min=e)}};e([s()],n.prototype,"breaks",null),e([s({dependsOn:["breaks"]})],n.prototype,"max",null),e([s({dependsOn:["breaks"]})],n.prototype,"min",null),e([s({dependsOn:["breaks"],readOnly:!0})],n.prototype,"values",null),e([s({readOnly:!0})],n.prototype,"zoomingEnabled",void 0),n=e([r("esri.widgets.smartMapping.ClassedColorSlider.ClassedColorSliderViewModel")],n);var a=n;export default a;

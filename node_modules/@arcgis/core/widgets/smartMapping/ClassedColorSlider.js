/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
import{_ as e}from"../../chunks/tslib.es6.js";import"../../core/has.js";import"../../core/Logger.js";import"../../core/accessorSupport/ensureType.js";import{property as r}from"../../core/accessorSupport/decorators/property.js";import{aliasOf as s}from"../../core/accessorSupport/decorators/aliasOf.js";import{subclass as o}from"../../core/accessorSupport/decorators/subclass.js";import"../../core/urlUtils.js";import"../../core/uuid.js";import"../../portal/support/resourceExtension.js";import i from"../../renderers/support/ClassBreakInfo.js";import"../support/widgetUtils.js";import{messageBundle as l}from"../support/decorators/messageBundle.js";import{renderable as t}from"../support/decorators/renderable.js";import{j as a}from"../../chunks/index.js";import{SmartMappingSliderBase as n}from"./SmartMappingSliderBase.js";import d from"./ClassedColorSlider/ClassedColorSliderViewModel.js";var m;const p="esri-classed-color-slider",c="esri-classed-color-slider__ramp",u="esri-classed-color-slider__slider-container",h="esri-classed-color-slider__histogram-container",b="esri-widget",g="esri-widget--panel",f="esri-disabled";let w=m=class extends n{constructor(e,r){super(e,r),this._bgFillId=null,this._rampFillId=null,this.breaks=null,this.label=void 0,this.messages=null,this.viewModel=new d,this._bgFillId=`${this.id}-bg-fill`,this._rampFillId=`${this.id}-linear-gradient`}static fromRendererResult(e,r){const{renderer:{classBreakInfos:s}}=e,o=s.map((e=>{const r=e.symbol.color;return{min:e.minValue,max:e.maxValue,color:r}}));return new m({breaks:o,histogramConfig:{bins:r?r.bins:[]}})}updateClassBreakInfos(e){const r=this.breaks;if(r.length===e.length)return e.map(((e,s)=>{const o=e.symbol;return o.color=r[s].color,new i({minValue:r[s].min,maxValue:r[s].max,symbol:o})}));console.error(`Number of input breakInfos must match number of slider breaks: ${r.length}`)}updateFromRendererResult(e,r){const{renderer:{classBreakInfos:s}}=e,o=s.map((e=>{const r=e.symbol.color;return{min:e.minValue,max:e.maxValue,color:r}}));this.set({breaks:o}),null!=r&&r.bins&&(this.histogramConfig.bins=r.bins)}render(){const{state:e,label:r}=this,s="disabled"===e,o=this.classes(p,b,g,{[f]:s});return a("div",{"aria-label":r,class:o},s?null:this.renderContent(this.renderRamp(),u,h))}renderRamp(){const{_bgFillId:e,_rampFillId:r,viewModel:s}=this,o=s.getStopInfo();return a("div",{class:c},a("svg",{xmlns:"http://www.w3.org/2000/svg"},a("defs",null,this.renderRampFillDefinition(r,o),this.renderBackgroundFillDefinition(e)),a("rect",{x:"0",y:"0",fill:`url(#${e})`,height:"100%",width:"100%"}),a("rect",{x:"0",y:"0",fill:`url(#${r})`,height:"100%",width:"100%"})))}};e([s("viewModel.breaks")],w.prototype,"breaks",void 0),e([r({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],w.prototype,"label",void 0),e([r(),t(),l("esri/widgets/smartMapping/ClassedColorSlider/t9n/ClassedColorSlider")],w.prototype,"messages",void 0),e([r(),t(["viewModel.breaks","viewModel.hasTimeData","viewModel.inputFormatFunction","viewModel.inputParseFunction","viewModel.labelFormatFunction","viewModel.max","viewModel.min","viewModel.values"])],w.prototype,"viewModel",void 0),w=m=e([o("esri.widgets.smartMapping.ClassedColorSlider")],w);var v=w;export default v;

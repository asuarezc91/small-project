/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
import{_ as s}from"../../chunks/tslib.es6.js";import"../../core/has.js";import"../../core/Logger.js";import{property as i}from"../../core/accessorSupport/decorators/property.js";import{aliasOf as e}from"../../core/accessorSupport/decorators/aliasOf.js";import{cast as t}from"../../core/accessorSupport/decorators/cast.js";import{subclass as o}from"../../core/accessorSupport/decorators/subclass.js";import"../../core/urlUtils.js";import"../../core/uuid.js";import"../../portal/support/resourceExtension.js";import r from"../../Color.js";import"../support/widgetUtils.js";import{messageBundle as l}from"../support/decorators/messageBundle.js";import{renderable as a}from"../support/decorators/renderable.js";import{j as p}from"../../chunks/index.js";import{SmartMappingSliderBase as d}from"./SmartMappingSliderBase.js";import n from"./OpacitySlider/OpacitySliderViewModel.js";var m;const c="esri-opacity-slider",u="esri-opacity-slider__ramp",v="esri-opacity-slider__slider-container",g="esri-opacity-slider__histogram-container",h="esri-widget",w="esri-widget--panel",f="esri-disabled",y={trackFillColor:new r([0,121,193])};let b=m=class extends d{constructor(s,i){super(s,i),this._bgFillId=null,this._rampFillId=null,this.label=void 0,this.messages=null,this.stops=null,this.style={...y},this.viewModel=new n,this.zoomOptions=null,this._rampFillId=`${this.id}-ramp-fill`,this._bgFillId=`${this.id}-bg-fill`}castStyle(s){return{...y,...s}}static fromVisualVariableResult(s,i){const{visualVariable:{stops:e},statistics:t}=s,{avg:o,max:r,min:l,stddev:a}=t;return new m({max:r,min:l,stops:e,histogramConfig:{average:o,standardDeviation:a,bins:i?i.bins:[]}})}updateFromVisualVariableResult(s,i){const{visualVariable:{stops:e},statistics:t}=s,{avg:o,max:r,min:l,stddev:a}=t;this.set({max:r,min:l,stops:e,histogramConfig:{average:o,standardDeviation:a,bins:i?i.bins:[]}})}render(){const{state:s,label:i}=this,e="disabled"===s,t=this.classes(c,h,w,{[f]:e});return p("div",{"aria-label":i,class:t},e?null:this.renderContent(this.renderRamp(),v,g))}renderRamp(){const{_bgFillId:s,_rampFillId:i,style:{trackFillColor:e},viewModel:t,zoomOptions:o}=this,r=t.getStopInfo(e);return p("div",{class:u},p("svg",{xmlns:"http://www.w3.org/2000/svg"},p("defs",null,this.renderRampFillDefinition(i,r),this.renderBackgroundFillDefinition(s)),p("rect",{x:"0",y:"0",fill:`url(#${s})`,height:"100%",width:"100%"}),p("rect",{x:"0",y:"0",fill:`url(#${i})`,height:"100%",width:"100%"})),o?this.renderZoomCaps():null)}};s([i({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],b.prototype,"label",void 0),s([i(),a(),l("esri/widgets/smartMapping/OpacitySlider/t9n/OpacitySlider")],b.prototype,"messages",void 0),s([e("viewModel.stops")],b.prototype,"stops",void 0),s([i(),a()],b.prototype,"style",void 0),s([t("style")],b.prototype,"castStyle",null),s([i(),a(["viewModel.hasTimeData","viewModel.inputFormatFunction","viewModel.inputParseFunction","viewModel.labelFormatFunction","viewModel.max","viewModel.min","viewModel.stops","viewModel.values","viewModel.zoomOptions"])],b.prototype,"viewModel",void 0),s([e("viewModel.zoomOptions")],b.prototype,"zoomOptions",void 0),b=m=s([o("esri.widgets.smartMapping.OpacitySlider")],b);var j=b;export default j;

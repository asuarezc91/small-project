/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
import{_ as t}from"../../../chunks/tslib.es6.js";import"../../../core/has.js";import"../../../core/Logger.js";import"../../../core/accessorSupport/ensureType.js";import{property as r}from"../../../core/accessorSupport/decorators/property.js";import{subclass as e}from"../../../core/accessorSupport/decorators/subclass.js";import"../../../core/urlUtils.js";import"../../../core/uuid.js";import"../../../portal/support/resourceExtension.js";import o from"../../../core/Accessor.js";import{getAssociatedStop as s}from"./directionsUtils.js";import i from"./RouteSection.js";let c=class extends o{constructor(t){super(t),this.routePath=null}get sections(){const t=this.routePath;return t?this._createSections(t):[]}_createSections(t){const r=(t=this._filterDuplicateStops(t)).map(((t,r)=>s(t)?r:-1)).filter((t=>t>-1));return r.map(((e,o)=>{const c=s(t[e]).attributes.Name,p=o===r.length-1?[]:t.slice(r[o]+1,r[o+1]);return new i({name:c,maneuvers:p,open:0===o})}))}_filterDuplicateStops(t){let r;return t.filter((t=>{const e=s(t),o=e===r;return r=e,!e||!o}))}};t([r()],c.prototype,"routePath",void 0),t([r({dependsOn:["routePath"],readOnly:!0})],c.prototype,"sections",null),c=t([e("esri.widgets.Directions.support.RouteSections")],c);var p=c;export default p;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
import e from"../../core/Error.js";import{reject as i,resolve as t}from"../../core/promiseUtils.js";import r from"../../support/actions/ActionButton.js";const o="esri-icon-trash",n=new r({id:"zoom-to-feature",title:"{messages.zoom}",className:"esri-icon-zoom-in-magnifying-glass"}),s=new r({id:"remove-selected-feature",title:"{messages.remove}",className:o}),a=[n,s],c=function(r){const{event:o,view:a}=r,{action:c}=o,m=a&&a.popup;if(!c)return i(new e("trigger-action:missing-arguments","Event has no action"));if(!m)return i(new e("trigger-action:missing-arguments","view.popup is missing"));const{disabled:g,id:u}=c;if(!u)return i(new e("trigger-action:invalid-action","action.id is missing"));if(g)return i(new e("trigger-action:invalid-action","Action is disabled"));if(u===n.id)return m.viewModel.zoomToLocation();if(u===s.id){m.close();const{selectedFeature:r}=m;if(!r)return i(new e(`trigger-action:${s.id}`,"selectedFeature is required",{selectedFeature:r}));const{sourceLayer:o}=r;return o?o.remove(r):a.graphics.remove(r),t()}return t()};export{a as all,s as removeSelectedFeature,c as triggerAction,n as zoomToFeature};

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
import{_ as e}from"../chunks/tslib.es6.js";import"../core/has.js";import"../core/Logger.js";import"../core/accessorSupport/ensureType.js";import{property as t}from"../core/accessorSupport/decorators/property.js";import{aliasOf as s}from"../core/accessorSupport/decorators/aliasOf.js";import{subclass as i}from"../core/accessorSupport/decorators/subclass.js";import"../core/urlUtils.js";import"../core/uuid.js";import"../portal/support/resourceExtension.js";import{ignoreAbortErrors as o}from"../core/promiseUtils.js";import"./support/widgetUtils.js";import{accessibleHandler as r}from"./support/decorators/accessibleHandler.js";import{messageBundle as n}from"./support/decorators/messageBundle.js";import{renderable as l}from"./support/decorators/renderable.js";import{j as d}from"../chunks/index.js";import p from"./Widget.js";import a from"./LineOfSight/LineOfSightViewModel.js";const u="esri-button esri-button--secondary",h="esri-button--disabled",c="esri-line-of-sight esri-widget esri-widget--panel",g="esri-line-of-sight__container",m="esri-line-of-sight__actions",v="esri-line-of-sight__hint",f="esri-line-of-sight__hint-text",w="esri-line-of-sight__panel--error",y="esri-line-of-sight__new-analysis-button",b="esri-line-of-sight__secondary-button";let _=class extends p{constructor(e,t){super(e,t),this.label=void 0,this.messages=null,this.view=null,this.viewModel=new a}render(){return d("div",{class:c,role:"presentation"},this.renderContainerNode())}renderContainerNode(){if(!this.visible)return null;if(!this.viewModel.isSupported)return this.renderUnsupportedMessage();let e=null;const t=[this.renderNewAnalysisButton()];return"creating"===this.viewModel.state?(e=this.renderHint(),t.unshift(this.renderDoneButton())):"created"===this.viewModel.state&&this.viewModel.targets.length>0&&t.unshift(this.renderContinueButton()),d("div",{class:g},e,d("div",{class:m},t))}renderUnsupportedMessage(){return d("div",{class:w,key:"esri-line-of-sight__unsupported"},d("p",null,this.messages.unsupported))}renderHint(){return d("div",{class:v,key:"esri-line-of-sight__hint"},d("p",{class:f},this.messages.hint))}renderNewAnalysisButton(){return this.renderButton(this.onNewAnalysis,this.messages.newAnalysis,y,"esri-line-of-sight__new-button")}renderDoneButton(){return this.renderButton(this.onDone,this.messages.done,b,"esri-line-of-sight__done-button")}renderContinueButton(){return this.renderButton(this.onContinue,this.messages.continueAnalysis,b,"esri-line-of-sight__continue-button")}renderButton(e,t,s,i){const o="disabled"===this.viewModel.state;return d("button",{disabled:o,class:this.classes(s,u,o&&h),bind:this,onclick:e,key:i,type:"button"},t)}onNewAnalysis(){this.viewModel.clear(),o(this.viewModel.start())}onDone(){this.viewModel.stop()}onContinue(){this.viewModel.continue()}};e([t({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],_.prototype,"label",void 0),e([t(),l(),n("esri/widgets/LineOfSight/t9n/LineOfSight")],_.prototype,"messages",void 0),e([s("viewModel.view")],_.prototype,"view",void 0),e([s("viewModel.visible"),l()],_.prototype,"visible",void 0),e([s("viewModel.active"),l()],_.prototype,"active",void 0),e([t({type:a}),l(["viewModel.state","viewModel.isSupported"])],_.prototype,"viewModel",void 0),e([r()],_.prototype,"onNewAnalysis",null),e([r()],_.prototype,"onDone",null),e([r()],_.prototype,"onContinue",null),_=e([i("esri.widgets.LineOfSight")],_);var j=_;export default j;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
import{isNone as e,applySome as t}from"../../../core/maybe.js";import{getMetersPerUnitForSR as i,getMetersPerVerticalUnitForSR as a,convertUnit as n}from"../../../core/unitUtils.js";function o(n,o){if(e(n)||e(o))return null;const{samples:s,spatialReference:r}=n,{distance:c,elevation:m}=o,p=i(r),u=a(r),f=[];for(const e of s)e.processed&&f.push({x:e.x,y:e.y,z:e.z,distance:l(e.distance,p,c),elevation:t(e.z,(e=>v(e,u,m)))});return f}function s(t,n){if(e(t)||e(n)||e(t.statistics)||e(t.spatialReference))return null;const{distance:o,elevation:s}=n,{statistics:r,spatialReference:c}=t,m=i(c),p=a(c);return{maxDistance:l(r.maxDistance,m,o),minElevation:v(r.minElevation,p,s),maxElevation:v(r.maxElevation,p,s),avgElevation:v(r.avgElevation,p,s),elevationGain:v(r.elevationGain,p,s),elevationLoss:v(r.elevationLoss,p,s),maxPositiveSlope:r.maxPositiveSlope,maxNegativeSlope:r.maxNegativeSlope,avgPositiveSlope:r.avgPositiveSlope,avgNegativeSlope:r.avgNegativeSlope}}function l(e,i,a){return t(e,(e=>n(e*i,"meters",a)))}function v(e,i,a){return t(e,(e=>n(e*i,"meters",a)))}export{o as convertSamples,s as convertStatistics};

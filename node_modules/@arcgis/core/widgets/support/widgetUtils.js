/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
import"../../core/has.js";import e from"../../core/Logger.js";import t from"../../core/ArrayPool.js";import n from"@esri/arcgis-html-sanitizer";var i,r,o=function(e){i||function(e){if("WebkitTransition"in e.style)i="webkitTransitionEnd",r="webkitAnimationEnd";else{if(!("transition"in e.style))throw new Error("Your browser is not supported!");i="transitionend",r="animationend"}}(e)},s=function(e,t){return void 0===t&&(t=e+"-active"),function(n){o(n);var s=!1,a=function(o){s||(s=!0,n.removeEventListener(i,a),n.removeEventListener(r,a),n.classList.remove(e),n.classList.remove(t))};n.classList.add(e),n.addEventListener(i,a),n.addEventListener(r,a),requestAnimationFrame((function(){n.classList.add(t)}))}},a=function(e,t){return void 0===t&&(t=e+"-active"),function(n,s){o(n);var a=!1,c=function(e){a||(a=!0,n.removeEventListener(i,c),n.removeEventListener(r,c),s())};n.classList.add(e),n.addEventListener(i,c),n.addEventListener(r,c),requestAnimationFrame((function(){n.classList.add(t)}))}};e.getLogger("esri.widgets.support.widgetUtils");function c(e){const n=t.acquire();for(let e=0;e<arguments.length;e++){const t=arguments[e],i=typeof t;if("string"===i)n.push(t);else if(Array.isArray(t))n.push.apply(n,t);else if("object"===i)for(const e in t)t[e]&&n.push(e)}const i=n.join(" ");return t.release(n),i}function l(){return"rtl"===document.dir}function d(e){this[e.getAttribute("data-node-ref")]=null}function u(e){this[e.getAttribute("data-node-ref")]=e}function p(e,t){return("enter"===e?s:a)(t)}const g=["h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"],m=g.reduce(((e,t)=>(e[t]=[],e)),{}),f=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],h=new n({whiteList:m,onTagAttr:(e,t,n)=>{const i=`${t}="${n}"`;if(f.includes(t))return i},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);function v(e,t){const n=e.getBoundingClientRect(),i=t.getBoundingClientRect(),r=n.top+n.height,o=i.top+i.height,s=n.top,a=i.top;(r>o||s<a)&&e.scrollIntoView({block:"end"})}function L(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-theme-name")}function w(){var e;return-1!==(null==(e=L())?void 0:e.indexOf("dark"))}export{g as additionalAllowedTags,c as classes,p as cssTransition,d as discardNode,L as getThemeName,w as isDarkTheme,l as isRTL,v as keepMenuItemWithinView,h as renderingSanitizer,f as safeAttrs,u as storeNode};

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
import{_ as e}from"../../chunks/tslib.es6.js";import"../../core/has.js";import"../../core/Logger.js";import"../../core/accessorSupport/ensureType.js";import{property as r}from"../../core/accessorSupport/decorators/property.js";import{aliasOf as t}from"../../core/accessorSupport/decorators/aliasOf.js";import{subclass as o}from"../../core/accessorSupport/decorators/subclass.js";import"../../core/urlUtils.js";import"../../core/uuid.js";import"../../portal/support/resourceExtension.js";import{renderable as s}from"../support/decorators/renderable.js";import{j as i}from"../../chunks/index.js";import{isWidget as a}from"../support/widget.js";import d from"../Widget.js";import{shouldOpenInNewTab as n}from"./support/featureUtils.js";import c from"./FeatureContent/FeatureContentViewModel.js";const p="esri-feature-content",l="esri-feature-content__loader-container",u="esri-feature-content__loader";let m=class extends d{constructor(e,r){super(e,r),this.creator=null,this.graphic=null,this.viewModel=null,this._addTargetToAnchors=e=>{Array.from(e.querySelectorAll("a")).forEach((e=>{n(e.href)&&!e.hasAttribute("target")&&e.setAttribute("target","_blank")}))}}renderLoading(){return i("div",{class:l,key:"loader"},i("div",{class:u}))}renderCreated(){var e;const r=null==(e=this.viewModel)?void 0:e.created;return r?r instanceof HTMLElement?i("div",{key:r,bind:r,afterCreate:this._attachToNode}):a(r)?i("div",{key:r},!r.destroyed&&r.render()):i("div",{key:r,innerHTML:r,afterCreate:this._addTargetToAnchors}):null}render(){var e;const r=null==(e=this.viewModel)?void 0:e.state;return i("div",{class:p},"loading"===r?this.renderLoading():this.renderCreated())}_attachToNode(e){e.appendChild(this)}};e([t("viewModel.creator")],m.prototype,"creator",void 0),e([t("viewModel.graphic")],m.prototype,"graphic",void 0),e([s(["viewModel.created","viewModel.state"]),r({type:c})],m.prototype,"viewModel",void 0),m=e([o("esri.widgets.Feature.FeatureContent")],m);var h=m;export default h;

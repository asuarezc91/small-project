/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
import{_ as e}from"../../chunks/tslib.es6.js";import"../../core/has.js";import{clone as t}from"../../core/lang.js";import{setDeepValue as r}from"../../core/object.js";import"../../core/Logger.js";import"../../core/accessorSupport/ensureType.js";import{property as o}from"../../core/accessorSupport/decorators/property.js";import{reader as n}from"../../core/accessorSupport/decorators/reader.js";import{subclass as i}from"../../core/accessorSupport/decorators/subclass.js";import{writer as s}from"../../core/accessorSupport/decorators/writer.js";import"../../core/urlUtils.js";import"../../core/uuid.js";import"../../portal/support/resourceExtension.js";import{JSONSupport as p}from"../../core/JSONSupport.js";import u from"../../TimeExtent.js";import l from"../../TimeInterval.js";var m;let a=m=class extends p{constructor(e){super(e),this.currentTimeExtent=null,this.fullTimeExtent=null,this.numStops=null,this.numThumbs=null,this.stopDelay=null,this.stopInterval=null}readCurrentTimeExtent(e){if(!e)return;const t=null!=e[0]?new Date(e[0]):null,r=null!=e[1]?new Date(e[1]):null;return new u({start:t,end:r})}writeCurrentTimeExtent(e,t,o){e&&r(o,[e.start?e.start.getTime():null,e.end?e.end.getTime():null],t)}readFullTimeExtent(e,t){const r=t.properties;if(!r)return;const o=null!=r.endTime?new Date(r.endTime):null,n=null!=r.startTime?new Date(r.startTime):null;return new u({start:n,end:o})}writeFullTimeExtent(e,t){if(!e)return;const r=t.properties=t.properties||{},o=e.end,n=e.start;o&&(r.endTime=o?o.getTime():null),n&&(r.startTime=n?n.getTime():null)}readStopInterval(e,t,r){return e?l.fromJSON({value:e.interval,unit:e.units},r):null}writeStopInterval(e,t,o,n){if(!e)return;const i=e.toJSON(n);r(o,{interval:i.value,units:i.unit},t)}clone(){return new m(t({currentTimeExtent:this.currentTimeExtent,fullTimeExtent:this.fullTimeExtent,numStops:this.numStops,numThumbs:this.numThumbs,stopDelay:this.stopDelay,stopInterval:this.stopInterval}))}};e([o({type:u,json:{read:{source:"properties.currentTimeExtent"},write:{target:"properties.currentTimeExtent"}}})],a.prototype,"currentTimeExtent",void 0),e([n("currentTimeExtent")],a.prototype,"readCurrentTimeExtent",null),e([s("currentTimeExtent")],a.prototype,"writeCurrentTimeExtent",null),e([o({type:u,json:{read:{source:["properties.endTime","properties.startTime"]},write:{target:{"properties.endTime":{type:Number},"properties.startTime":{type:Number}}}}})],a.prototype,"fullTimeExtent",void 0),e([n("fullTimeExtent")],a.prototype,"readFullTimeExtent",null),e([s("fullTimeExtent")],a.prototype,"writeFullTimeExtent",null),e([o({type:Number,json:{read:{source:"properties.numberOfStops"},write:{target:"properties.numberOfStops",overridePolicy(){const e=!!this.stopInterval;return{enabled:!e,isRequired:!e}}}}})],a.prototype,"numStops",void 0),e([o({type:[1,2],nonNullable:!0,json:{read:{source:"properties.thumbCount"},write:{target:"properties.thumbCount",isRequired:!0}}})],a.prototype,"numThumbs",void 0),e([o({type:Number,nonNullable:!0,json:{read:{source:"properties.thumbMovingRate"},write:{target:"properties.thumbMovingRate",isRequired:!0}}})],a.prototype,"stopDelay",void 0),e([o({type:l,json:{read:{source:"properties.timeStopInterval"},write:{target:"properties.timeStopInterval",overridePolicy(){return{isRequired:null==this.numStops}}}}})],a.prototype,"stopInterval",void 0),e([n("stopInterval")],a.prototype,"readStopInterval",null),e([s("stopInterval")],a.prototype,"writeStopInterval",null),a=m=e([i("esri.webdoc.widgets.TimeSlider")],a);var c=a;export default c;

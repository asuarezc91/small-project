/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
import r from"../../request.js";import{parseUrl as t,encode as o,asValidOptions as s}from"../utils.js";import e from"../../tasks/support/AddressCandidate.js";import a from"../../tasks/support/LocationToAddressParameters.js";async function n(e,n,i){n=a.from(n);const c=t(e),m={...n.toJSON(),f:"json"},u=o({...c.query,...m}),f=s(u,i),p=`${c.path}/reverseGeocode`;return r(p,f).then(d)}function d({data:r}){if(!r)return;const{address:t,location:o}=r,s=t&&t.Match_addr||"";return e.fromJSON({address:s,attributes:t||{},location:o,score:100})}export{n as locationToAddress};

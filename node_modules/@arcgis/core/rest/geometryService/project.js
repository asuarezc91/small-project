/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
import{ensureType as r}from"../../core/accessorSupport/ensureType.js";import{getJsonType as t}from"../../geometry/support/jsonUtils.js";import o from"../../request.js";import e from"../../tasks/support/ProjectParameters.js";import{parseUrl as s,asValidOptions as p}from"../utils.js";import{decodeGeometries as m}from"./utils.js";const i=r(e);async function n(r,e,n){e=i(e);const u=s(r),a={...u.query,f:"json",...e.toJSON()},c=e.outSpatialReference,j=t(e.geometries[0]),f=p(a,n);return o(u.path+"/project",f).then((({data:{geometries:r}})=>m(r,j,c)))}export{n as project};

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
import{getJsonType as e,fromJSON as t}from"../../geometry/support/jsonUtils.js";import r from"../../request.js";import{parseUrl as o}from"../utils.js";import{encodeGeometries as s}from"./utils.js";async function i(i,m,n,f){const p=m[0].spatialReference,y=o(i);let a={query:{...y.query,f:"json",sr:JSON.stringify(p.toJSON()),geometries:JSON.stringify(s(m)),geometry:JSON.stringify({geometryType:e(n),geometry:n.toJSON()})}};return f&&(a={...f,...a}),r(y.path+"/difference",a).then((({data:e})=>(e.geometries||[]).map((e=>t(e).set({spatialReference:p})))))}export{i as difference};

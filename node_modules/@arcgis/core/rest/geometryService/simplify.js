/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
import{urlToObject as r}from"../../core/urlUtils.js";import{getJsonType as t}from"../../geometry/support/jsonUtils.js";import i from"../../request.js";import{encodeGeometries as s,decodeGeometries as e}from"./utils.js";async function o(o,m,f){const n="string"==typeof o?r(o):o,p=m[0].spatialReference,a=t(m[0]),u={...f,query:{...n.query,f:"json",sr:p.wkid?p.wkid:JSON.stringify(p),geometries:JSON.stringify(s(m))}},{data:y}=await i(n.path+"/simplify",u);return e(y.geometries,a,p)}export{o as simplify};

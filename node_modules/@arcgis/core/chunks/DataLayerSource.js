/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
import{_ as e}from"./tslib.es6.js";import"../core/has.js";import"../core/Logger.js";import{ensureOneOfType as r,ensureType as o}from"../core/accessorSupport/ensureType.js";import{property as t}from"../core/accessorSupport/decorators/property.js";import{cast as s}from"../core/accessorSupport/decorators/cast.js";import{strict as a}from"../core/jsonMap.js";import{enumeration as p}from"../core/accessorSupport/decorators/enumeration.js";import{reader as l}from"../core/accessorSupport/decorators/reader.js";import{createTypeReader as c}from"../core/accessorSupport/extensions/serializableProperty/reader.js";import{subclass as i}from"../core/accessorSupport/decorators/subclass.js";import"../core/urlUtils.js";import"../core/uuid.js";import"../portal/support/resourceExtension.js";import{JSONSupport as u}from"../core/JSONSupport.js";import n from"../layers/support/Field.js";import{MapLayerSource as y}from"../layers/support/source/MapLayerSource.js";import{QueryTableDataSource as b}from"../layers/support/source/QueryTableDataSource.js";import{RasterDataSource as d}from"../layers/support/source/RasterDataSource.js";import{TableDataSource as m}from"../layers/support/source/TableDataSource.js";var S;const f=a()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});let j=S=class extends u{constructor(e){super(e),this.type="join-table"}readLeftTableSource(e,r,o){return h()(e,r,o)}castLeftTableSource(e){return r(v(),e)}readRightTableSource(e,r,o){return h()(e,r,o)}castRightTableSource(e){return r(v(),e)}clone(){var e,r;const{leftTableKey:o,rightTableKey:t,leftTableSource:s,rightTableSource:a,joinType:p}=this,l={leftTableKey:o,rightTableKey:t,leftTableSource:null!=(e=null==s?void 0:s.clone())?e:void 0,rightTableSource:null!=(r=null==a?void 0:a.clone())?r:void 0,joinType:p};return new S(l)}};e([p({joinTable:"join-table"})],j.prototype,"type",void 0),e([t({type:String,json:{write:!0}})],j.prototype,"leftTableKey",void 0),e([t({type:String,json:{write:!0}})],j.prototype,"rightTableKey",void 0),e([t({json:{write:!0}})],j.prototype,"leftTableSource",void 0),e([l("leftTableSource")],j.prototype,"readLeftTableSource",null),e([s("leftTableSource")],j.prototype,"castLeftTableSource",null),e([t({json:{write:!0}})],j.prototype,"rightTableSource",void 0),e([l("rightTableSource")],j.prototype,"readRightTableSource",null),e([s("rightTableSource")],j.prototype,"castRightTableSource",null),e([p(f)],j.prototype,"joinType",void 0),j=S=e([i("esri.layers.support.source.JoinTableDataSource")],j);let T=null;function h(){return T||(T=c({types:v()})),T}let g=null;function v(){return g||(g={key:"type",base:null,typeMap:{"data-layer":D,"map-layer":y}}),g}var L;const w={key:"type",base:null,typeMap:{"join-table":j,"query-table":b,raster:d,table:m}};let D=L=class extends u{constructor(e){super(e),this.type="data-layer"}clone(){const{fields:e,dataSource:r}=this;return new L({fields:e,dataSource:r})}};e([p({dataLayer:"data-layer"})],D.prototype,"type",void 0),e([t({type:[n],json:{write:!0}})],D.prototype,"fields",void 0),e([t({types:w,json:{write:!0}})],D.prototype,"dataSource",void 0),D=L=e([i("esri.layers.support.source.DataLayerSource")],D),D.from=o(D);export{D,j as J};

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
import{_ as e}from"../chunks/tslib.es6.js";import"../core/has.js";import{clone as o}from"../core/lang.js";import{isSome as r}from"../core/maybe.js";import"../core/Logger.js";import"../core/accessorSupport/ensureType.js";import{property as t}from"../core/accessorSupport/decorators/property.js";import{enumeration as s}from"../core/accessorSupport/decorators/enumeration.js";import{subclass as l}from"../core/accessorSupport/decorators/subclass.js";import{writer as m}from"../core/accessorSupport/decorators/writer.js";import y from"../core/Error.js";import"../core/urlUtils.js";import"../core/uuid.js";import"../portal/support/resourceExtension.js";import i from"../core/Collection.js";import p from"./ExtrudeSymbol3DLayer.js";import a from"./FillSymbol3DLayer.js";import n from"./IconSymbol3DLayer.js";import c from"./LineSymbol3DLayer.js";import b from"./ObjectSymbol3DLayer.js";import u from"./TextSymbol3DLayer.js";import f from"./WaterSymbol3DLayer.js";import j from"./Symbol3D.js";var L;const S=i.ofType({base:null,key:"type",typeMap:{extrude:p,fill:a,icon:n,line:c,object:b,text:u,water:f}}),d=i.ofType({base:null,key:"type",typeMap:{extrude:p,fill:a,icon:n,line:c,object:b,water:f}});let g=L=class extends j{constructor(e){super(e),this.type="polygon-3d"}writeSymbolLayers(e,o,r,t){const s=e.filter((e=>"text"!==e.type));if(t&&t.messages&&s.length<e.length){const o=e.find((e=>"text"===e.type));t.messages.push(new y("symbol-layer:unsupported","Symbol layers of type 'text' cannot be persisted in PolygonSymbol3D",{symbolLayer:o}))}o[r]=s.map((e=>e.write({},t))).toArray()}clone(){return new L({styleOrigin:o(this.styleOrigin),symbolLayers:o(this.symbolLayers),thumbnail:o(this.thumbnail)})}static fromJSON(e){const o=new L;if(o.read(e),2===o.symbolLayers.length&&"fill"===o.symbolLayers.getItemAt(0).type&&"line"===o.symbolLayers.getItemAt(1).type){const t=o.symbolLayers.getItemAt(0),s=o.symbolLayers.getItemAt(1);!s.enabled||e.symbolLayers&&e.symbolLayers[1]&&!1===e.symbolLayers[1].enable||(t.outline={size:s.size,color:r(s.material)?s.material.color:null}),o.symbolLayers.removeAt(1)}return o}static fromSimpleFillSymbol(e){return new L({symbolLayers:[a.fromSimpleFillSymbol(e)]})}};e([t({type:S,json:{type:d}})],g.prototype,"symbolLayers",void 0),e([m("web-scene","symbolLayers")],g.prototype,"writeSymbolLayers",null),e([s({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],g.prototype,"type",void 0),g=L=e([l("esri.symbols.PolygonSymbol3D")],g);var h=g;export default h;

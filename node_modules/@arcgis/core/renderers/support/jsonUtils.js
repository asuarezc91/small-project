/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
import"../../core/has.js";import{setDeepValue as e}from"../../core/object.js";import r from"../../core/Warning.js";import{createTypeReader as n}from"../../core/accessorSupport/extensions/serializableProperty/reader.js";import s from"../../core/Error.js";import{rendererTypes as t}from"./types.js";function o(r,n,t,o){const u=function(e,r){if(!e)return null;if(!function(e,r){if(!r||"web-scene"!==r.origin)return!0;switch(e.type){case"simple":case"unique-value":case"class-breaks":return!0;case"heatmap":case"dictionary":case"dot-density":default:return!1}}(e,r))return r.messages&&r.messages.push(new s("renderer:unsupported",`Renderer of type '${e.declaredClass}' are not supported in scenes.`,{renderer:e,context:r})),null;return e.write({},r)}(r,o);u&&e(t,u,n)}function u(e,r){return a(e,null,r)}const i=n({types:t});function a(e,n,s){return e?e&&(e.styleName||e.styleUrl)&&"uniqueValue"!==e.type?(s&&s.messages&&s.messages.push(new r("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+e.type+"'",{definition:e,context:s})),null):i(e,n,s):null}export{u as fromJSON,a as read,o as write};

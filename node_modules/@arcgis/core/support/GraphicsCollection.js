/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
import{_ as r}from"../chunks/tslib.es6.js";import"../core/has.js";import"../core/Logger.js";import{ensureType as o}from"../core/accessorSupport/ensureType.js";import{property as e}from"../core/accessorSupport/decorators/property.js";import{subclass as t}from"../core/accessorSupport/decorators/subclass.js";import"../core/urlUtils.js";import"../core/uuid.js";import"../portal/support/resourceExtension.js";import s from"../core/Collection.js";import{castForReferenceSetter as n,referenceSetter as i}from"../core/collectionUtils.js";import c from"../Graphic.js";const l=s.ofType(c);let p=class extends l{constructor(r){super(r),this.on("before-add",(r=>{r.item||r.preventDefault()})),this.on("after-add",(r=>this._own(r.item))),this.on("after-remove",(({item:r})=>{r.layer=null}))}destroy(){this._unownAll()}get owner(){return this._get("owner")}set owner(r){r!==this._get("owner")&&(this._unownAll(),this._set("owner",r),this._ownAll())}_createNewInstance(r){return new l(r)}_ownAll(){this.items.forEach((r=>this._own(r)))}_own(r){r.layer&&"remove"in r.layer&&r.layer!==this.owner&&r.layer.remove(r),r.layer=this.owner}_unownAll(){this.items.forEach((r=>this._unown(r)))}_unown(r){r.layer===this.owner&&(r.layer=null)}};function a(r){const e=o(p,r);return e&&(e.owner=this),e}r([e()],p.prototype,"owner",null),p=r([t("esri.support.GraphicsCollection")],p);const h=(r="graphics")=>({type:p,cast:n,set(o){const e=i(o,this._get(r),p);e.owner=this,this._set(r,e)}});var u=p;export default u;export{p as GraphicsCollection,a as castGraphicsCollection,h as graphicsCollectionProperty};

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
import{createScreenPointArray as r}from"../../../../core/screenUtils.js";import{InputHandler as t}from"../../../input/InputHandler.js";import{eventMatchesMousePointerAction as e}from"../../../input/handlers/support.js";import{ZoomController as o}from"../../state/controllers/global/ZoomController.js";import{ZoomController as a}from"../../state/controllers/local/ZoomController.js";class s extends t{constructor(r,t,e){super(!0),this.view=r,this.pointerAction=t,this.registerIncoming("drag",e,(r=>this.handleDrag(r)))}handleDrag(t){const s=t.data;if(s.pointers.size>1)return;if(!e(t.data,this.pointerAction))return;const i=r(s.center.x,s.center.y);switch(s.action){case"start":this.cameraController&&(this.cameraController.end(),this.cameraController=null),this.view.state.isGlobal?this.cameraController=new o({view:this.view}):this.cameraController=new a({view:this.view}),this.view.state.switchCameraController(this.cameraController),this.cameraController.begin(i);break;case"update":this.cameraController&&this.cameraController.update(i);break;case"end":this.cameraController&&(this.cameraController.end(),this.cameraController=null)}t.stopPropagation()}}export{s as DragZoom};

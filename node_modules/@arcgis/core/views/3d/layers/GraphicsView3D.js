/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
import{_ as r}from"../../../chunks/tslib.es6.js";import"../../../core/has.js";import{isSome as i}from"../../../core/maybe.js";import"../../../core/Logger.js";import"../../../core/accessorSupport/ensureType.js";import{property as s}from"../../../core/accessorSupport/decorators/property.js";import{subclass as e}from"../../../core/accessorSupport/decorators/subclass.js";import"../../../core/urlUtils.js";import"../../../core/uuid.js";import"../../../portal/support/resourceExtension.js";import{resolve as t}from"../../../core/promiseUtils.js";import p from"../../../core/Accessor.js";import{GraphicsView as a}from"../../layers/GraphicsView.js";import c from"./graphics/Graphics3DGraphicLikeLayerView.js";let o=class extends(a(p)){constructor(r){super(r),this.graphics3d=null,this.slicePlaneEnabled=!1,this.drapeSourceType=1,this.mockLayerId="__sceneView.graphics-"+Date.now().toString(16)}initialize(){const r={id:this.mockLayerId,uid:this.mockLayerId};this._set("graphics3d",new c({owner:this,layer:r})),this.graphics3d.setup()}destroy(){this.graphics3d&&(this.graphics3d.destroy(),this._set("graphics3d",null))}get updating(){return!(this.graphics3d&&!this.graphics3d.updating)}notifyGraphicUpdate(r,i){this.graphics3d.graphicsCore.notifyGraphicUpdate(r,i)}get graphics3DGraphics(){return this.graphics3d.graphicsCore.graphics3DGraphics}get graphics3DGraphicsByObjectID(){return this.graphics3d.graphicsCore.graphics3DGraphicsByObjectID}get symbolUpdateType(){return this.graphics3d.graphicsCore.symbolUpdateType}getGraphicFromGraphicUid(r){return this.graphics3d.getGraphicFromGraphicUid(r)}whenGraphicBounds(r,i){return this.graphics3d.whenGraphicBounds(r,i)}graphicChanged(r){this.graphics3d.graphicsCore.graphicUpdateHandler(r)}queryGraphics(){return t(this.loadedGraphics)}async fetchPopupFeatures(r,s){return i(s)?s.clientGraphics:null}highlight(r){return this.graphics3d.highlight(r)}maskOccludee(r){return this.graphics3d.maskOccludee(r)}};r([s({readOnly:!0,aliasOf:"view.graphics"})],o.prototype,"graphics",void 0),r([s({aliasOf:"graphics"})],o.prototype,"loadedGraphics",void 0),r([s({readOnly:!0,dependsOn:["graphics3d.updating"]})],o.prototype,"updating",null),r([s({constructOnly:!0})],o.prototype,"view",void 0),r([s()],o.prototype,"graphics3d",void 0),r([s({type:Boolean})],o.prototype,"slicePlaneEnabled",void 0),o=r([e("esri.views.3d.layers.GraphicsView3D")],o);var h=o;export default h;

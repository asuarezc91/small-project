/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
import{_ as e}from"../../../../chunks/tslib.es6.js";import"../../../../core/has.js";import{isSome as s}from"../../../../core/maybe.js";import"../../../../core/Logger.js";import"../../../../core/accessorSupport/ensureType.js";import{property as o}from"../../../../core/accessorSupport/decorators/property.js";import{subclass as r}from"../../../../core/accessorSupport/decorators/subclass.js";import"../../../../core/urlUtils.js";import"../../../../core/uuid.js";import"../../../../portal/support/resourceExtension.js";import t from"../../../../core/Accessor.js";import{lerp as i}from"../../../../core/mathUtils.js";import l from"../../../../symbols/FillSymbol3DLayer.js";import a from"../../../../symbols/TextSymbol3DLayer.js";import c from"../../../../symbols/PointSymbol3D.js";import p from"../../../../symbols/PolygonSymbol3D.js";import n from"../../../../Graphic.js";const m=[[0,179,255],[117,62,128],[0,104,255],[215,189,166],[32,0,193],[98,162,206],[102,112,129],[52,125,0],[142,118,246],[138,83,0],[92,122,255],[122,55,83],[0,142,255],[81,40,179],[0,200,244],[13,24,127],[0,170,147],[19,58,241],[22,44,35]];let h=class extends t{constructor(e){super(e),this.updating=!1,this.enablePolygons=!0,this.enableLabels=!0,this._graphics=[],this._enabled=!0}initialize(){this._symbols=m.map((e=>new p(new l({material:{color:[e[0],e[1],e[2],.6]},outline:{color:"black",size:1}}))))}get enabled(){return this._enabled}set enabled(e){this._enabled!==e&&(this._enabled=e,this.update())}destroy(){this.view&&(this.clear(),this._set("view",null))}_update(e,o,r){if(this.clear(),!this._enabled)return;let t;const l=r.getLabel||(e=>{let o=`${e.lij[0]}/${e.lij[1]}/${e.lij[2]}`;return s(t)&&(o+=` (${t})`),o});e.forEach(((p,m)=>{const h=p.lij[0],y=o(p);if(this.enablePolygons&&this._graphics.push(new n({geometry:y,symbol:this._symbols[h%this._symbols.length]})),this.enableLabels){const o=m/(e.length-1),h=i(0,200,o),b=i(20,6,o);t=r.getLoadPriority&&r.getLoadPriority(p);const u=s(t)&&t>=e.length,g=l(p),d=new n({geometry:y.extent.center,symbol:new c({verticalOffset:{screenLength:40/.75},callout:{type:"line",color:"white",border:{color:"black"}},symbolLayers:[new a({text:g,halo:{color:"white",size:1/.75},material:{color:[h,u?0:h,u?0:h]},size:b/.75})]})});this._graphics.push(d)}})),this.view.graphics.addMany(this._graphics)}clear(){this.view.graphics.removeMany(this._graphics),this._graphics=[]}};e([o({constructOnly:!0})],h.prototype,"view",void 0),e([o({readOnly:!0})],h.prototype,"updating",void 0),h=e([r("esri.views.3d.layers.support.TileTree3DDebugger")],h);export{h as TileTree3DDebugger};

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
import{_ as e}from"../../../../../chunks/tslib.es6.js";import"../../../../../core/has.js";import"../../../../../core/Logger.js";import"../../../../../core/accessorSupport/ensureType.js";import{property as t}from"../../../../../core/accessorSupport/decorators/property.js";import{aliasOf as o}from"../../../../../core/accessorSupport/decorators/aliasOf.js";import{subclass as r}from"../../../../../core/accessorSupport/decorators/subclass.js";import"../../../../../core/urlUtils.js";import"../../../../../core/uuid.js";import"../../../../../portal/support/resourceExtension.js";import s from"../../../../../core/Handles.js";import{init as i}from"../../../../../core/watchUtils.js";import{InteractiveToolBase as a}from"../../../../interactive/InteractiveToolBase.js";import d from"./AreaMeasurement3DView.js";import l from"./AreaMeasurement3DController.js";import n from"./AreaMeasurement3DModel.js";let p=class extends a{constructor(e){super(e),this._handles=new s,this.deferCreation=!0,this.model=new n({sceneView:e.view})}initialize(){this._view=new d(this.model,this.manipulators),this._controller=new l(this.model,this._view,this.manipulators),this._handles.add(i(this,"state",(e=>{switch(e){case"measured":return this.complete();case"ready":return;default:return this.create()}}),!0))}destroy(){this.detach(),this._view.destroy(),this._view=null,this._controller.destroy(),this._controller=null,this._handles.destroy(),this._handles=null}get state(){return this.model.isMeasuring?"measured"===this.model.state?"measured":"measuring":"ready"}get isSupported(){return"3d"===this.get("view.type")}get cursor(){return!this.model.active||"initial"!==this.model.state&&"drawing"!==this.model.state?null:"crosshair"}activate(){this.model.active=!0}deactivate(){this.model.active=!1}onShow(){this._view.show()}onHide(){this._view.hide()}onDetach(){this.model.reset()}onInputEvent(e){this._controller.handleInputEvent(e)}};e([t({dependsOn:["model.isMeasuring","model.state"],readOnly:!0})],p.prototype,"state",null),e([t({dependsOn:["view.type"],readOnly:!0})],p.prototype,"isSupported",null),e([t({dependsOn:["model.active","state"],readOnly:!0})],p.prototype,"cursor",null),e([t({constructOnly:!0})],p.prototype,"model",void 0),e([o("model.mode")],p.prototype,"mode",void 0),e([o("model.unit")],p.prototype,"unit",void 0),e([o("model.areaLabel")],p.prototype,"areaLabel",void 0),e([o("model.area")],p.prototype,"area",void 0),e([o("model.geodesicArea")],p.prototype,"geodesicArea",void 0),e([o("model.pathLengthLabel")],p.prototype,"pathLengthLabel",void 0),e([o("model.pathLength")],p.prototype,"pathLength",void 0),e([o("model.geodesicPathLength")],p.prototype,"geodesicPathLength",void 0),e([o("model.perimeterLengthLabel")],p.prototype,"perimeterLengthLabel",void 0),e([o("model.perimeterLength")],p.prototype,"perimeterLength",void 0),e([o("model.geodesicPerimeterLength")],p.prototype,"geodesicPerimeterLength",void 0),e([o("model.validMeasurement")],p.prototype,"validMeasurement",void 0),e([o("model.viewData")],p.prototype,"viewData",void 0),p=e([r("esri.views.3d.interactive.measurementTools.areaMeasurement3D.AreaMeasurement3DTool")],p);var m=p;export default m;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
import t from"../../../../overlay/LineOverlayItem.js";import e from"../../../../overlay/TextOverlayItem.js";export default class{constructor(i){this._textItem=new e({visible:!1}),this._calloutItem=new t({visible:!1,width:2}),this._visible=!1,this._calloutVisible=!0,i&&(this.fontSize=i)}get textItem(){return this._textItem}get calloutItem(){return this._calloutItem}set text(t){this._textItem.text=t}get text(){return this._textItem.text}set fontSize(t){this._textItem.fontSize=t}get fontSize(){return this._textItem.fontSize}set visible(t){this._visible=t,this._updateVisibility()}get visible(){return this._visible}addToView(t){t.overlay.items.addMany([this._textItem,this._calloutItem])}removeFromView(t){t.overlay&&!t.overlay.destroyed&&t.overlay.items.removeMany([this._textItem,this._calloutItem])}updatePosition(t,e){if(e){const i=e[0]-t[0],s=e[1]-t[1];this._textItem.position=[e[0],e[1]],this._textItem.anchor=Math.abs(i)>Math.abs(s)?i>0?"left":"right":s>0?"top":"bottom",this._calloutItem.startPosition=[t[0],t[1]],this._calloutItem.endPosition=[e[0],e[1]],this._calloutVisible=!0}else this._textItem.position=[t[0],t[1]],this._textItem.anchor="center",this._calloutVisible=!1}_updateVisibility(){this._textItem.visible=this._visible,this._calloutItem.visible=this._visible&&this._calloutVisible}}

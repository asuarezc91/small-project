/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
import{createRenderScreenPointArray as e,createRenderScreenPointArray3 as r,createScreenPointArray as t}from"../../../../../core/screenUtils.js";import{c as n}from"../../../../../chunks/vec3f64.js";import{b as o}from"../../../../../chunks/vec3.js";import{s as c,n as s,l as i,a,h as u,e as p,d}from"../../../../../chunks/vec2.js";import{screenSpaceTangent as f}from"./viewUtils.js";function m(e){switch(e){case"top":return"bottom";case"right":return"left";case"bottom":return"top";case"left":return"right"}}function l(e,r,t){return e.projectToRenderScreen(r,w),!(w[2]<0||w[2]>1)&&(e.renderToScreen(w,t),!0)}function S(e,r,t){const n=l(t,r,U);return n&&e.updatePosition(U,null),n}function T(e,r,t,n,o,p){if(!r)return!1;f(r.start,r.end,R,e),c(v,-R[1],R[0]);let d=!1;switch(n){case"top":d=v[1]<0;break;case"bottom":d=v[1]>0;break;case"left":d=v[0]>0;break;case"right":d=v[0]<0}if(d&&s(v,v),0===i(v))switch(n){case"top":v[1]=1;break;case"bottom":v[1]=-1;break;case"left":v[0]=-1;break;case"right":v[0]=1}return e.projectToRenderScreen(r.origin,w),!(w[2]<0||w[2]>1)&&(e.renderToScreen(w,o),a(v,v,t*e.pixelRatio),u(v,v,w),e.renderToScreen(v,p),!0)}function b(e,r,t,n,o){const c=T(o,r,t,n,U,q);return c&&e.updatePosition(U,q),c}function h(e,r,t,n,o,c){return!(!r||!t)&&(f(r.end,r.start,R,e),f(t.start,t.end,g,e),u(v,R,g),s(v,v),p(v,v),e.projectToRenderScreen(r.end,w),!(w[2]<0||w[2]>1)&&(e.renderToScreen(w,o),a(v,v,n*e.pixelRatio),u(v,v,w),e.renderToScreen(v,c),!0))}function j(e,r,t,n,c,s){return e.projectToRenderScreen(r,w),o(P,r,t),e.projectToRenderScreen(P,x),!(w[2]<0||w[2]>1||x[2]<0||x[2]>1)&&(d(v,x,w),p(v,v),e.renderToScreen(w,c),a(v,v,n*e.pixelRatio),u(v,v,w),e.renderToScreen(v,s),!0)}function k(e,r,t,n,o){const c=h(o,r,t,n,U,q);return c&&e.updatePosition(U,q),c}const R=e(),g=e(),v=e(),w=r(),x=r(),P=n(),U=t(),q=t();export{h as computeLabelPositionFromCorner,j as computeLabelPositionFromPlane,l as computeLabelPositionFromPoint,T as computeLabelPositionFromSegment,m as mirrorPosition,k as positionLabelOnCorner,S as positionLabelOnPoint,b as positionLabelOnSegment};

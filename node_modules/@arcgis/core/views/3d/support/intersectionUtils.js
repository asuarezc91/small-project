/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
import{c as n}from"../../../chunks/vec3f64.js";import{d as r,f as i,b as t,a as e,k as c,g as o,n as u}from"../../../chunks/vec3.js";import{a as s}from"../../../chunks/vec2f64.js";import{plane as f}from"./geometryUtils.js";function l(n,r,i){return n[0]*r[0]+n[1]*r[1]+n[2]*r[2]+n[3]<i}function a(n,r,i){const t=r[0],e=r[1],c=r[2];return!(n[0][0]*t+n[0][1]*e+n[0][2]*c+n[0][3]>i)&&(!(n[1][0]*t+n[1][1]*e+n[1][2]*c+n[1][3]>i)&&(!(n[2][0]*t+n[2][1]*e+n[2][2]*c+n[2][3]>i)&&(!(n[3][0]*t+n[3][1]*e+n[3][2]*c+n[3][3]>i)&&(!(n[4][0]*t+n[4][1]*e+n[4][2]*c+n[4][3]>i)&&!(n[5][0]*t+n[5][1]*e+n[5][2]*c+n[5][3]>i)))))}function p(n,r,i,t){return v(n,r,null,j(t,r,i,!1))}function d(n,r){for(let i=0;i<6;i++){if(f.signedDistance(n[i],r)>0)return!1}return!0}function m(n,r,i,t){return v(n,r,i,j(t,r,i,!0))}function g(n,c,o,u){const s=r(c,i(u,o,n));return t(u,n,e(u,c,s)),u}const h={dir:n(),len:0,clip:s()};function j(n,r,t,s){const f=h;return n?(t&&s&&(f.len=c(r,t)),o(f.dir,n)):s?(f.len=c(r,t),i(f.dir,t,r),e(f.dir,f.dir,1/f.len)):(i(f.dir,t,r),u(f.dir,f.dir)),f}function k(n,i,t){const e=r(f.normal(n),t.dir),c=-f.signedDistance(n,i);if(c<0&&e>=0)return!1;if(e>-1e-6&&e<1e-6)return c>0;if((c<0||e<0)&&!(c<0&&e<0))return!0;const o=c/e;return e>0?o<t.clip[1]&&(t.clip[1]=o):o>t.clip[0]&&(t.clip[0]=o),t.clip[0]<=t.clip[1]}function v(n,r,i,t){t.clip[0]=0,t.clip[1]=i?t.len:Number.MAX_VALUE;for(let i=0;i<n.length;i++)if(!k(n[i],r,t))return!1;return!0}export{g as closestPointOnRay,m as frustumLineSegment,d as frustumPoint,p as frustumRay,a as frustumSphere,l as planeSphere};

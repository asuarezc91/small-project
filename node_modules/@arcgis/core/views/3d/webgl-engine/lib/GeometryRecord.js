/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
import t from"../../../../core/ObjectPool.js";import{i}from"../../../../chunks/vec3.js";import{IdGen as r}from"./IdGen.js";class a{acquire(t,i,r,e,n,o){this.id=a._idGen.gen(t&&t.id),this.geometry=t,this.material=i,this.transformation=r,this.instanceParameters=e,this.origin=n,this.shaderTransformation=o}getStaticTransformation(){return this.transformation}getShaderTransformation(){return this.shaderTransformation?this.shaderTransformation(this.transformation):this.transformation}computeAttachmentOrigin(t){return!!(this.material.computeAttachmentOrigin?this.material.computeAttachmentOrigin(this.geometry,t):this.geometry.computeAttachmentOrigin(t))&&(i(t,t,this.getStaticTransformation()),!0)}}a._idGen=new r,a.pool=new t(a);export default a;

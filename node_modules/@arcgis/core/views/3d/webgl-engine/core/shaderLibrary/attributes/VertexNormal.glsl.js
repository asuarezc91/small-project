/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
import{glsl as o}from"../../shaderModules/interfaces.js";import{NormalAttribute as r}from"./NormalAttribute.glsl.js";import{VertexPosition as a}from"./VertexPosition.glsl.js";function l(l,e){0===e.normalType||1===e.normalType?(l.include(r,e),l.varyings.add("vNormalWorld","vec3"),l.varyings.add("vNormalView","vec3"),l.vertex.uniforms.add("uTransformNormal_GlobalFromModel","mat3"),l.vertex.uniforms.add("uTransformNormal_ViewFromGlobal","mat3"),l.vertex.code.add(o`
      void forwardNormal() {
        vNormalWorld = uTransformNormal_GlobalFromModel * normalModel();
        vNormalView = uTransformNormal_ViewFromGlobal * vNormalWorld;
      }
    `)):2===e.normalType?(l.include(a,e),l.varyings.add("vNormalWorld","vec3"),l.vertex.code.add(o`
    void forwardNormal() {
      vNormalWorld = ${1===e.viewingMode?o`normalize(vPositionWorldCameraRelative);`:o`vec3(0.0, 0.0, 1.0);`}
    }
    `)):l.vertex.code.add(o`
      void forwardNormal() {}
    `)}!function(o){o.bindUniforms=function(o,r){o.setUniformMatrix4fv("viewNormal",r)}}(l||(l={}));export{l as VertexNormal};

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
import{_ as r}from"../../../../chunks/tslib.es6.js";import{ReloadableShaderModule as e}from"../core/shaderTechnique/ReloadableShaderModule.js";import{ShaderTechnique as t}from"../core/shaderTechnique/ShaderTechnique.js";import{ShaderTechniqueConfiguration as o,parameter as i}from"../core/shaderTechnique/ShaderTechniqueConfiguration.js";import{Default3D as s}from"../lib/DefaultVertexAttributeLocations.js";import n from"../../../webgl/Program.js";import{makePipelineState as a,defaultDepthWriteParams as m,defaultColorWriteParams as l}from"../../../webgl/renderState.js";import{View as p}from"../core/shaderLibrary/util/View.glsl.js";import{M as f}from"../../../../chunks/MeasurementArrow.glsl.js";class h extends t{constructor(r,e){super(r,e)}initializeProgram(r){const e=h.shader.get().build();return new n(r.rctx,e.generateSource("vertex"),e.generateSource("fragment"),s)}bindPass(r,e,t){p.bindProjectionMatrix(this.program,t.camera.projectionMatrix),this.program.setUniform1f("width",e.width),this.program.setUniform1f("outlineSize",e.outlineSize),this.program.setUniform4fv("outlineColor",e.outlineColor),this.program.setUniform1f("stripeLength",e.stripeLength),this.program.setUniform4fv("stripeEvenColor",e.stripeEvenColor),this.program.setUniform4fv("stripeOddColor",e.stripeOddColor)}bindDraw(r){p.bindView(this.program,r)}initializePipeline(){return a({polygonOffset:this.configuration.polygonOffsetEnabled&&{factor:0,units:-4},depthTest:{func:513},depthWrite:m,colorWrite:l})}get primitiveType(){return 5}}h.shader=new e(f,(()=>import("./MeasurementArrow.glsl.js")));class d extends o{constructor(){super(...arguments),this.polygonOffsetEnabled=!1}}r([i()],d.prototype,"polygonOffsetEnabled",void 0);export{h as MeasurementArrowTechnique,d as MeasurementArrowTechniqueConfiguration};

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
import{_ as e}from"../../../../chunks/tslib.es6.js";import{ReloadableShaderModule as r}from"../core/shaderTechnique/ReloadableShaderModule.js";import{ShaderTechnique as t}from"../core/shaderTechnique/ShaderTechnique.js";import{ShaderTechniqueConfiguration as i,parameter as o}from"../core/shaderTechnique/ShaderTechniqueConfiguration.js";import{Default3D as s}from"../lib/DefaultVertexAttributeLocations.js";import n from"../../../webgl/Program.js";import{makePipelineState as l,defaultDepthWriteParams as c,defaultColorWriteParams as a}from"../../../webgl/renderState.js";import{stencilWriteMaskOn as u,stencilBaseAllZerosParams as d}from"../lib/StencilUtils.js";import{P as p}from"../../../../chunks/PointRenderer.glsl.js";class h extends t{constructor(e,r){super(e,r)}initializeProgram(e){const r=h.shader.get(),t=this.configuration,i=r.build({output:t.output,slicePlaneEnabled:t.slicePlaneEnabled,sliceHighlightDisabled:!1,sliceEnabledForVertexPrograms:!0,drawScreenSize:t.drawScreenSize});return new n(e.rctx,i.generateSource("vertex"),i.generateSource("fragment"),s)}initializePipeline(){return l({depthTest:{func:513},depthWrite:c,colorWrite:a,stencilWrite:this.configuration.sceneHasOcludees?u:null,stencilTest:this.configuration.sceneHasOcludees?d:null})}}h.shader=new r(p,(()=>import("./PointRenderer.glsl.js")));class m extends i{constructor(){super(...arguments),this.output=0,this.slicePlaneEnabled=!1,this.drawScreenSize=!1,this.sceneHasOcludees=!1}}e([o({count:8})],m.prototype,"output",void 0),e([o()],m.prototype,"slicePlaneEnabled",void 0),e([o()],m.prototype,"drawScreenSize",void 0),e([o()],m.prototype,"sceneHasOcludees",void 0);export{h as PointRendererTechnique,m as PointRendererTechniqueConfiguration};

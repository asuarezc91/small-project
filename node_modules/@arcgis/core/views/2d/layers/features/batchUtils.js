/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
import{createResolver as t,throwIfAborted as e}from"../../../../core/promiseUtils.js";function o(o,r,n){var l;const c=null!=(l=null==n?void 0:n.batchSize)?l:100,i=t();let s=0;const a=()=>{const t=Date.now();let l=!1,m=0;for(;!l&&m<500;){try{for(n&&e(n);s<Math.min(s+c,o.length);s++)r(o[s])}catch(t){i.reject(t)}m=Date.now()-t,l=s>=o.length}l?i.resolve():setTimeout(a,0)};return a(),i.promise}export{o as executeForEachAsync};

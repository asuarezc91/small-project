/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
import{_ as e}from"../../../chunks/tslib.es6.js";import"../../../core/has.js";import"../../../core/Logger.js";import"../../../core/accessorSupport/ensureType.js";import{property as r}from"../../../core/accessorSupport/decorators/property.js";import{subclass as o}from"../../../core/accessorSupport/decorators/subclass.js";import"../../../core/urlUtils.js";import"../../../core/uuid.js";import"../../../portal/support/resourceExtension.js";import t from"../../../core/Accessor.js";import i from"../../../core/Handles.js";import{whenNot as s,when as n,init as a}from"../../../core/watchUtils.js";import{InputManager as p,ViewEventPriorities as c}from"../../input/InputManager.js";import{DoubleClickZoom as m}from"./handlers/DoubleClickZoom.js";import{DoubleTapDragZoom as h}from"./handlers/DoubleTapDragZoom.js";import{DragPan as l}from"./handlers/DragPan.js";import{DragRotate as u}from"./handlers/DragRotate.js";import{GamepadNavigation as w}from"./handlers/GamepadNavigation.js";import{KeyPan as d}from"./handlers/KeyPan.js";import{KeyRotate as v}from"./handlers/KeyRotate.js";import{KeyZoom as g}from"./handlers/KeyZoom.js";import{MouseWheelZoom as j}from"./handlers/MouseWheelZoom.js";import{PinchRotateAndZoom as f}from"./handlers/PinchAction.js";import{BrowserEventSource as _}from"../../input/BrowserEventSource.js";import{PreventContextMenu as y}from"../../input/handlers/PreventContextMenu.js";import{SingleAndDoubleClick as D}from"../../input/recognizers/SingleAndDoubleClick.js";import{DoubleTapDrag as A}from"../../input/recognizers/DoubleTapDrag.js";import{Drag as b}from"../../input/recognizers/Drag.js";import{ImmediateDoubleClick as M}from"../../input/recognizers/ImmediateDoubleClick.js";import{PointerClickHoldAndDrag as k}from"../../input/recognizers/PointerClickHoldAndDrag.js";const z="Ctrl",C={left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown"},E={zoomIn:["=","+"],zoomOut:["-","_"]},O={clockwiseOption1:"a",clockwiseOption2:"A",counterClockwiseOption1:"d",counterClockwiseOption2:"D",resetOption1:"n",resetOption2:"N"};let P=class extends t{constructor(){super(...arguments),this._handles=new i}initialize(){this._handles.add([s(this.view,"ready",(()=>this._disconnect())),n(this.view,"ready",(()=>this._connect()))])}destroy(){this._handles&&(this._handles.removeAll(),this._handles=null),this._disconnect()}_disconnect(){this._inputManager&&(this.view.viewEvents.disconnect(),this._inputManager.destroy(),this._inputManager=null,this._source.destroy(),this._source=null)}_connect(){const e=this.view.surface,r=new _(e,this.view.input),o=[new M,new k,new D,new b(this.view.navigation),new A],t=new p({eventSource:r,recognizers:o});t.installHandlers("prevent-context-menu",[new y],c.INTERNAL),t.installHandlers("navigation",[new f(this.view),new w(this.view),new j(this.view),new m(this.view),new m(this.view,[z]),new l(this.view,"primary"),new d(this.view,C),new g(this.view,E),new v(this.view,O),new u(this.view,"secondary"),new h(this.view,"touch")],c.INTERNAL),this.view.viewEvents.connect(t),this._source=r,this._inputManager=t,a(this.view.navigation,"browserTouchPanEnabled",(e=>{this._source.browserTouchPanningEnabled=!e}))}get test(){return{inputManager:this._inputManager}}};e([r()],P.prototype,"view",void 0),P=e([o("esri.views.2d.input.MapViewInputManager")],P);var T=P;export default T;

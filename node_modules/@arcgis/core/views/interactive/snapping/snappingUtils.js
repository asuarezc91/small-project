/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
import"../../../core/has.js";import e from"../../../Color.js";import{createScreenPoint as t,createScreenPointArray as n}from"../../../core/screenUtils.js";import{c as r}from"../../../chunks/vec3f64.js";import{getConvertedElevationFromMapPoint as i}from"../../../support/elevationInfoUtils.js";import{defaults as o}from"./Settings.js";import{ExtendedLineVisualElement as s}from"../../3d/interactive/visualElements/ExtendedLineVisualElement.js";import{RightAngleQuadVisualElement as c}from"../../3d/interactive/visualElements/RightAngleQuadVisualElement.js";function a(e,t){const n=e.x-t.x,r=e.y-t.y;return n*n+r*r}function d(e,t){const n=e.length===t.length&&e[0]===t[0]&&e[1]===t[1];switch(e.length){case 2:return n;case 3:return n&&e[2]===t[2];case 4:return n&&e[3]===t[3]}return!1}function l(e,n,r,i){return u(e,n,r,i,g),i.state.camera.projectToScreen(g,x),t(x[0],x[1])}function u(e,t,n,o,s=r()){const c=t.toXYZ(e);return c[2]=i(o,c,t.spatialReference,n),o.renderCoordsHelper.toRenderCoords(c,t.spatialReference,s),s}function f(e,t,n,r,i,o=!0,s=!0){return h(e,i,u(t.left.pos,n,r,i),u(t.right.pos,n,r,i),o,s)}function m(e,t,n,r,i,o){return h(e,o,u(t,r,i,o),u(n,r,i,o))}function h(t,n,r,i,c=!0,a=!0){const d=new s({view:n,extensionType:3,start:r,end:i,color:e.toUnitRGBA(o.orange),renderOccluded:16});switch(t){case 0:d.width=o.lineHintWidthTarget,d.fadedExtensions={start:0,end:o.lineHintFadedExtensions};break;case 3:d.width=o.lineHintWidthReference,d.fadedExtensions={start:0,end:0};break;case 1:case 2:d.width=o.lineHintWidthReference,d.fadedExtensions={start:c?o.lineHintFadedExtensions:0,end:a?o.lineHintFadedExtensions:0}}return d.attached=!0,d}function p(t,n,r,i,s,a){return new c({view:a,attached:!0,color:e.toUnitRGBA(o.orange),renderOccluded:2,outlineRenderOccluded:16,outlineColor:e.toUnitRGBA(o.orange),outlineSize:o.rightAngleHintOutlineSize,size:o.rightAngleHintSize,geometry:{previous:u(t,i,s,a),center:u(n,i,s,a),next:u(r,i,s,a)}})}const g=r(),x=n();export{u as anyMapPointToRender,l as anyMapPointToScreenPoint,h as createLineSegmentHint,f as createLineSegmentHintFromEdge,m as createLineSegmentHintFromMap,p as createQuadHint,d as objectEqual,a as squareDistance};

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
import{_ as t}from"../../../chunks/tslib.es6.js";import"../../../core/has.js";import"../../../core/Logger.js";import"../../../core/accessorSupport/ensureType.js";import{property as r}from"../../../core/accessorSupport/decorators/property.js";import{subclass as o}from"../../../core/accessorSupport/decorators/subclass.js";import"../../../core/urlUtils.js";import"../../../core/uuid.js";import"../../../portal/support/resourceExtension.js";import e from"../../../core/Accessor.js";import{y as s,z as i}from"../../../chunks/mat4.js";var p;let n=p=class extends e{constructor(){super(...arguments),this.from=null,this.to=null,this.duration=4e3,this.repeat=!0,this.done=!1}getColorMatrix(){if(this.done=!1,null==this._lastTime)this._currentStep=0,this._lastTime=Date.now();else{const t=this._lastTime,r=Date.now(),o=r-t;this._currentStep=this._currentStep+o,this._currentStep>=2147483647&&(this._currentStep=0),this._lastTime=r}const t=this._currentStep%this.duration/(this.duration/2),r=t<=1?t:2-t,o=this.from.getColorMatrix(),e=this.to.getColorMatrix();return s(o,o,1-r),s(e,e,r),!this.repeat&&this._currentStep>=this.duration&&(this.done=!0),i(o,o,e)}getOpacity(){throw new Error("No getOpacity definition for Transition")}clone(){const t=new p({from:this.from.clone(),to:this.to.clone(),duration:this.duration});return t._lastTime=this._lastTime,t._currentStep=this._currentStep,t}};t([r()],n.prototype,"from",void 0),t([r()],n.prototype,"to",void 0),t([r({type:Number})],n.prototype,"duration",void 0),t([r({type:Boolean})],n.prototype,"repeat",void 0),n=p=t([o("esri.views.layers.support.Transition")],n);var a=n;export default a;

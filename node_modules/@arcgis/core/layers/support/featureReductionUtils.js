/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
import{setDeepValue as e}from"../../core/object.js";import t from"../../core/Error.js";import r from"./FeatureReduction.js";import o from"./FeatureReductionCluster.js";import n from"./FeatureReductionSelection.js";const s={key:"type",base:r,typeMap:{selection:n}};function u(e,t){const r=(t=t.layerDefinition||t).featureReduction;if(r)switch(r.type){case"selection":return n.fromJSON(r);case"cluster":return o.fromJSON(r)}return null}function c(t,r,o,n){const s=i(t,{},n);s&&e(o,s,r)}function i(e,r,o){return e?"selection"!==e.type?(o.messages&&o.messages.push(new t("featureReduction:unsupported",`FeatureReduction of type '${e.declaredClass}' are not supported in scenes.`,{featureReduction:e,context:o})),null):e.write(r,o):null}export{u as read,s as webSceneFeatureReductionTypes,i as write,c as writeTarget};

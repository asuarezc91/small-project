/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
function e(){const e=[];for(let n=0;n<=257;n++)e[n]=[n];return e}function n(e,n){for(let t=0;t<n.length;t++)e.push(n[t])}const t=new Set;function r(r,i,l,o=!0){const f=function(e,n,t,r=!0){if(n%4!=0||t%4!=0){const i=new ArrayBuffer(4*Math.ceil(t/4)),l=new Uint8Array(i),o=new Uint8Array(e,n,t);if(r)for(let e=0;e<l.length;e+=4)l[e]=o[e+3],l[e+1]=o[e+2],l[e+2]=o[e+1],l[e+3]=o[e];else l.set(o);return new Uint32Array(l.buffer)}if(r){const r=new Uint8Array(e,n,t),i=new Uint8Array(r.length);for(let e=0;e<i.length;e+=4)i[e]=r[e+3],i[e+1]=r[e+2],i[e+2]=r[e+1],i[e+3]=r[e];return new Uint32Array(i.buffer)}return new Uint32Array(e,n,t/4)}(r,i,l,o);let s=9,a=e(),c=32,u=a.length,h=[],d=1,g=f[0],w=0;const y=f.length,A=8*(4*y-l),U=[];for(;null!=g;){if(c>=s)c-=s,w=g>>>32-s,g<<=s;else{w=g>>>32-c,g=f[d++];const e=s-c;c=32-e,w=(w<<e)+(g>>>c),g<<=e}if(257===w)break;if(256===w){s=9,a=e(),u=a.length,h=[];continue}const r=a[w];if(null==r){if(w>a.length)throw"data integrity issue: code does not exist on code page";h.push(h[0]),a[u++]=h.slice(),n(U,h)}else n(U,r),h.push(r[0]),h.length>1&&(a[u++]=h.slice()),h=r.slice();if(t.has(u)&&s++,0===c&&(g=f[d++],c=32),d>y||d===y&&c<=A)break}return new Uint8Array(U)}t.add(511),t.add(1023),t.add(2047),t.add(4095),t.add(8191);export{r as decode};

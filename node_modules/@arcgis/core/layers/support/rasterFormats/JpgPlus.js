/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
import{Z as t}from"../../../chunks/Zlib.js";import{J as e}from"../../../chunks/Jpg.js";export default class{static decode(n){const r=new Uint8Array(n),s=new e;s.parse(r);const{width:o,height:a,numComponents:i,eof:l}=s,f=s.getData(o,a,!0);let h;const c=o*a;let p=0,u=0,g=0;if(l<r.length-1){const e=new t(r.subarray(l)).getBytes();h=new Uint8Array(c);let n=0;for(p=0;p<e.length;p++)for(g=7;g>=0;g--)h[n++]=e[p]>>g&1}let m,w=null;if(1===i)w=[f,f,f];else{for(w=[],p=0;p<3;p++)m=new Uint8Array(c),w.push(m);for(g=0,u=0;u<c;u++)for(p=0;p<3;p++)w[p][u]=f[g++]}return{width:o,height:a,pixels:w,mask:h}}}

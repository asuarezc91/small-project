/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
import{_ as r}from"../../chunks/tslib.es6.js";import"../../core/has.js";import"../../core/Logger.js";import"../../core/accessorSupport/ensureType.js";import{property as e}from"../../core/accessorSupport/decorators/property.js";import o from"../../core/Warning.js";import{subclass as s}from"../../core/accessorSupport/decorators/subclass.js";import"../../core/urlUtils.js";import"../../core/uuid.js";import"../../portal/support/resourceExtension.js";import t from"../../core/Collection.js";import{loadAllChildren as i}from"../../core/loadAll.js";import u from"./BuildingSublayer.js";import n from"./BuildingComponentSublayer.js";var p;const a={type:t,readOnly:!0,json:{origins:{service:{read:{source:"sublayers",reader:l}}},read:!1}};function l(r,e,s){if(r&&Array.isArray(r))return new t(r.map((r=>{const e=function(r){return"group"===r.layerType?c:n}(r);if(e){const o=new e;return o.read(r,s),o}s&&s.messages&&r&&s.messages.push(new o("building-scene-layer:unsupported-sublayer-type","Building scene sublayer of type '"+(r.type||"unknown")+"' are not supported",{definition:r,context:s}))})))}let c=p=class extends u{constructor(r){super(r),this.type="building-group",this.listMode="show",this.sublayers=null}loadAll(){return i(this,(r=>p.forEachSublayer(this.sublayers,(e=>{"building-group"!==e.type&&r(e)}))))}};r([e({type:["hide","show","hide-children"],json:{write:!0}})],c.prototype,"listMode",void 0),r([e(a)],c.prototype,"sublayers",void 0),c=p=r([s("esri.layers.buildingSublayers.BuildingGroupSublayer")],c),function(r){r.sublayersProperty=a,r.readSublayers=l,r.forEachSublayer=function r(e,o){e.forEach((e=>{o(e),"building-group"===e.type&&r(e.sublayers,o)}))}}(c||(c={}));var y=c;export default y;

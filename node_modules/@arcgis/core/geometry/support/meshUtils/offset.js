/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
import{c as t}from"../../../chunks/vec3f64.js";import{t as e}from"../../../chunks/vec3.js";import{getSphericalPCPF as r}from"../../projectionEllipsoid.js";import{computeLinearTransformation as o}from"../../projection.js";import{a as n}from"../../../chunks/mat3f64.js";import{a as i}from"../../../chunks/mat4f64.js";import{f as s}from"../../../chunks/mat3.js";import{projectToECEF as a,projectNormalToECEF as c,projectTangentToECEF as f,projectFromECEF as m,projectNormalFromECEF as p,projectTangentFromECEF as l}from"./projection.js";function u(t,n,i){if(!t.vertexAttributes||!t.vertexAttributes.position)return;const u=t.spatialReference;u.isWGS84||u.isWebMercator&&(!i||!1!==i.geographic)?function(t,n){const i=t.spatialReference,u=t.vertexAttributes.position,v=t.vertexAttributes.normal,b=t.vertexAttributes.tangent,g=new Float64Array(u.length),k=new Float32Array(v?v.length:0),y=new Float32Array(b?b.length:0),w=t.extent.center,F=j;o(i,[w.x,w.y,w.z],x,r(i)),s(A,x),e(F,n,A),a(u,i,g),v&&c(v,u,g,i,k);b&&f(b,u,g,i,y);h(g,F),m(g,u,i),v&&p(k,u,g,i,v);b&&l(y,u,g,i,b);t.clearCache()}(t,n):function(t,e){h(t.vertexAttributes.position,e),t.clearCache()}(t,n)}function h(t,e){if(t)for(let r=0;r<t.length;r+=3)for(let o=0;o<3;o++)t[r+o]+=e[o]}const j=t(),x=i(),A=n();export{u as offset};

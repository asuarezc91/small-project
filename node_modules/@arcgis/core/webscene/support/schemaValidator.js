/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
import{convertAjvErrors as n}from"../../support/validationUtilsAjv.js";import{A as e}from"../../chunks/ajv.bundle.js";import{json as o}from"../../portal/schemas/webScene.js";const t=new e({allErrors:!0,extendRefs:!0});function i(e,o){return function(n){const e=r(n);if(!t.getSchema(e)){const o=s(n);t.addSchema(o,e)}}(o),t.validate(r(o),e)?[]:n(t.errors)}function s(n){const e=o.definitions[r(n)];if(!e)throw new Error(`invalid schema name to validate against '${n}'`);const t={};for(const n in e)t[n]=e[n];return t.definitions=o.definitions,t}function r(n){return n?`${n}_schema.json`:"webScene_schema.json"}t.addSchema(o,r());export{i as validate};
